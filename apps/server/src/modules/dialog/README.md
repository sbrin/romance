# Dialog Module (P0-05)

## Назначение

- Загружает сценарий `assets/s1/s1.json` и валидирует его через Zod.
- Индексирует шаги по `id` и определяет корневой шаг (`prev.length === 0`).
- Проверяет наличие видеофайлов `<videoId>.mp4` в `assets/s1`.
- Формирует payload `session_step` на основе сценария и текущего состояния сессии.
- Логирует ошибки парсинга сценария (JSON/Zod) с путями до проблемных полей.

## Контракты

- Вход: `assets/s1/s1.json` (минимальный срез сценария, остальное игнорируется).
- Выход: `SessionStepEvent` (`session_step` по WS).

## Обоснование

Сценарий и медиа валидируются на старте, чтобы сервер падал сразу при
неконсистентном контенте. Это гарантирует, что клиент получает корректный
первый шаг без скрытой логики.
