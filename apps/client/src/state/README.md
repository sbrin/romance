# State & Storage

## Назначение

Локальный reducer и утилиты хранения deviceId/role в localStorage для core flow.

## Требования

- Reducer описывает переходы только по событиям сервера/пользователя.
- deviceId и role валидируются через Zod-схемы.
- localStorage используется идемпотентно и устойчиво к ошибкам.

## Обоснование

Сервер — источник правды, поэтому клиент хранит только минимальный UI state и
стабильные идентификаторы устройства.
