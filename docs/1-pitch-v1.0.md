# One‑Thread Pitch — Romance‑Chat Web Prototype (V1.0)

## Outcome (через 2 недели)

Рабочий веб‑прототип (мобильный браузер, вертикальный экран), где **незнакомые
мужчина и женщина**:

1. заходят на сайт,
2. выбирают пол (2 кнопки),
3. попадают в очередь ожидания,
4. автоматически мэтчатся с первым доступным пользователем противоположного
   пола,
5. **оба подтверждают старт** (кнопка Start загорается, сессия начинается только
   после нажатия обоими),
6. проходят ~**5 шагов** сценария, выбирая реплики кнопками,
7. видят у обоих синхронную смену сцены: **видео + текстовые “баблы” реплик**; при выборе реплики участник остаётся на том же видео, а партнёр получает **новое видео, соответствующее выбранной реплике** (дальше выборы чередуются и каждый выбор определяет следующее видео для партнёра),
8. сессия корректно завершается по тайм‑ауту/отвалу и позволяет сразу вернуться
   в очередь.

Прототип нужен для быстрых тестов гипотез (вовлечение, понятность, эмоциональный
эффект). Контент должен быть легко редактируем сценаристами без участия
разработчика: **замена видео в папке + правка сценарного файла**.

---

## One thread (одна нитка опыта)

**Вход → мэтч → старт → диалог → завершение → снова в очередь**

1. Пользователь открывает сайт на телефоне (портрет).
2. Экран выбора пола: **“Мужской / Женский”**.
3. Экран ожидания: пользователь в очереди, ждёт партнёра противоположного пола,
   может отменить и вернуться к экрану «начать поиск».
4. Мэтч: как только есть свободный партнёр противоположного пола — соединяем.
5. Экран “Партнёр найден” + **кнопка Start** (активируется/загорается красиво) и
   кнопка «Отмена» (возврат к экрану «начать поиск»).
6. Сессия начинается **только когда оба нажали Start**.
7. Во время сессии:
   - Фулл‑скрин **луп‑видео** партнёра (без звука).
   - На каждом шаге есть **раздельные параметры видео для М/Ж**. Если для роли
     видео не указано — пользователь **оставляет предыдущее** видео.
   - Поверх видео — **плавающий бабл** с репликой (показываем текст выбранной
     реплики).
   - Снизу — **кнопки вариантов ответа** для текущего шага (ход пользователя).
   - Выбор варианта → общий переход на следующий шаг (синхронно у обоих),
     при этом видео у каждого обновляется **только если** в шаге есть
     параметры видео для его роли.
8. Ожидание ответа и тайм‑аут:
   - 30 секунд без активности → предупреждение “сессия скоро закончится…”
   - ещё 30 секунд без активности → сессия завершается.
9. После завершения: экран “Сессия завершена” → кнопка “В очередь”.

## Appetite

**2 недели.** Цель — один полностью рабочий вертикальный срез (end‑to‑end) +
возможность запустить тесты на людях.

---

## Non‑goals (не делаем в V1)

- Нативные приложения (iOS/Android).
- Регистрация/аккаунты/платежи.
- AI‑аватары, камера‑генерация, эмоции, синтез.
- AI‑модерация/цензура/фильтры контента.
- Свободный ввод текста/голоса/реальные видеозвонки.
- Сложный мэтчинг (предпочтения/свайпы/гео/ранжирование) — только “первый
  свободный”.
- Админка для сценаристов (кроме файлового формата).
- Многоязычность, персонализация, аналитические дашборды.

---

## Riskiest assumptions (самые опасные допущения)

1. Формат **кнопочных реплик + видео партнёра** даёт нужное чувство
   диалога/интимности, а не “рельсы/кринж”.
2. Очередь и ожидание при дисбалансе пола не убивают конверсию (люди готовы
   ждать).
3. Синхронизация сцен в браузере ощущается гладко (без рассинхронов и “я нажал —
   ничего”).
4. Показ **текста реплики “баблом”** усиливает опыт и не перегружает экран.
5. “Контент без кода” реально работает: сценаристы могут править и не ломать
   граф.

---

## Cheapest tests (дешёвые проверки)

- 10–20 пар: пройти 5 шагов. Снять:
  - долю успешных стартов (оба нажали Start),
  - долю завершивших сценарий,
  - число тайм‑аутов,
  - точки отвалов,
  - субъективные оценки: “хочу продолжить / понятно / неловко / зашло”.
- A/B (по возможности) на UI бабла/реплик: стиль/расположение/тайминг появления.
- Контент‑тест: сценарист сам меняет 2 сцены + 4 реплики + заменяет 2 видео.

---

## Definition of Done (V1 готова, если…)

- **Пол** выбирается двумя кнопками, выбор влияет на роль в сценарии (м/ж
  контент).
- **Очередь**: пользователь корректно ждёт, пока не появится партнёр
  противоположного пола; может отменить поиск и вернуться к экрану «начать поиск».
- **Мэтч**: как только пара есть — создаётся сессия.
- **Start‑gate**: сессия стартует только после нажатия Start обоими.
- **Партнёр найден**: экран содержит кнопку Start и кнопку «Отмена» (возврат к
  экрану «начать поиск»).
- **Sync**: шаг сценария общий; переходы синхронны у обоих клиентов; выбор
  одного обновляет видео у партнёра.
- **Видео**: луп‑проигрывание без звука; на шаг есть видео говорящего; при
  выборе обновляется только у партнёра (видео говорящего). Если для роли видео
  не задано — сохраняется предыдущее.
- **Реплики**:
  - кнопки выбора ответа у активного игрока,
  - у обоих появляется **бабл с текстом** выбранной реплики.
- **Тайм‑ауты**: 30s предупреждение + 30s завершение без активности.
- **Состояния UI**: выбор пола / ожидание / партнёр найден / старт / мой ход /
  жду / предупреждение / завершено / снова в очередь.
- **Контент извне кода**:
  - сценарий в файле,
  - видео ассеты в папках,
  - замена видео/текста не требует правок в коде.
- **Логи событий** (минимум): selected_gender, queued, partner_found, start_pressed,
  session_started, choice_made, step_advanced, timeout_warn, timeout_end,
  disconnect, session_end.

---

## Контент‑спека (минимальный формат для сценаристов)

Требование: “один шаг сценария → видео говорящего (М или Ж) + текст реплики +
варианты ответа (для партнёра); выбранная реплика определяет видео, которое
увидит партнёр”.

Предложение для V1 (можно менять): один JSON/YAML файл со списком шагов и
переходов. Для каждого шага указываются **отдельные видео для М/Ж**, и если
видео для роли отсутствует — клиент продолжает показывать предыдущее.

---

## Открытые вопросы (сознательно оставлены на позже)

- Возрастной гейт 18+ (пока игнорируем).
- Репорты/блокировки/модерация (в V1 можно только “выход из сессии”).
- Анти‑фрод/анти‑бот (пока не трогаем).
